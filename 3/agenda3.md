# 2019年度 第三回 プログラミング講習会
## 今回の目標
1. input関数が使えるようになる
2. キャストが使えるようになる
3. if文が使えるようになる
4. elifとelseが使えるようになる
5. 入れ子のif文が使えるようになる
6. 論理演算子が使えるようになる
## おまけ目標
switch文が使えるようになる

---
# 1. input関数が使えるようになる
input関数って聞くと難しそうですが、何のことはない。めちゃ簡単です。  
以下の実行例を見てみましょう。(githubでは31.pyです。)
```py
a = input(">> ")
print("入力したのは" + a + "だな!")
```
> \>\> ねこ  
> 入力したのは ねこ だな!

`a = "abc"` で、aという変数に abc という文字列を代入する。というお話でした。  
それを、プログラム実行時に、実行者が入力するようにできる。それがinput関数です。  
input関数は、上のように書くことで**文字列**を代入することができます。

また、`"abc" + "def"` と書くことで文字列を連結できます。(四則演算子で+だけ文字列で使える)  
これを利用して2行目ではprintしています。

また、`print()`は何回でも使えますので、以下のようなプログラムもできます。(githubでは32.pyです)
```py
print("なんか言いたいことでもあるか?")
a = input("言いたいこと: ")
print(a + " で悪かったな！")
```
> なんか言いたいことでもあるか?  
> 言いたいこと: バカ  
> バカ で悪かったな！

こんな感じで、少し遊ぶこともできます。  
もちろん、`input()`も変数の宣言も1回だけという決まりはないので何回でも使ってあげることができます。

# 2. キャストが使えるようになる
`input()`も学んだことですし、調子に乗って数字を入力して、2を引いて出力するプログラムを作ってみましょう(GitHubでは33.pyです)  
```py 
a = input(">> ")
a = a - 2
print("2を引いた数は " + a + "ですね！")
```
しかしこれを実行してみると
> \>\> 5
> Traceback (most recent call last):  
>   File "30.py", line 2, in <module>  
>     a = a - 2  
> TypeError: unsupported operand type(s) for -: 'str' and 'int'  

と出てきちゃいました。
よくやるのは「どこがおかしいんだろうなー」とか言ってコードばかり眺めること。  
 **エラー文は読みましょう** これがプログラミング上達への近道です。  
さて、そのエラー文を見てみましょう(ここでは超ざっくりしたデバッグ方法です)
>  File "30.py", line 2,

これは「30.py」っていうファイルの「2行目」がおかしいで。  
と言ってくれているのです。そして、  
> TypeError: unsupported operand type(s) for -: 'str' and 'int' 

とかいてあります。そのままコピペしてggってみましょう。(型安全がどうとか出てきます)  
勘のいいひとなら`str`と`int`で気づくかもしれません。  
実はこのエラー __String(文字列)型とint(整数)型どうしに'-'演算子は使えねえよ__ っていうものなんです。
  
あれ、aには数字を入れたはず..... 実はinput()というのは「文字列を代入する」という動作をするものなのです！(だから試しに 5 とか入れると「文字としての5」が代入されます)
そんな文字から2を引いてくださいなんて言われてもわかるわけありません。  
そこで、「入力した文字を数字に変換する」という作業が要ります。  
この「変換」のことを「キャスト」といいます。やり方は以下の通り
```py
s = input(">> ") #sには文字列が入る
a = int(s) #文字列s を 数字a に変換する(キャスト)
a = a - 2
print("2を引いた数は " + str(a) + "ですね！")
```
`str(a)`はint型a を String型に変換してあげているものです  
「intからstingに変換したいな」とか思ったら「Python int string」とかで調べると出てきます  
こんな風にして書き換えることで、うまく動くようになります！  
余談ですが、`#`から後のその行はコメントと言ってメモを書くことができます


# 3. if文が使えるようになる
ifは「もし～ならば」という接続詞です。プログラミング分でも「もし～ならば」というような意味でつかいます~~(とか言うとまたオタクに怒られるけど)~~  
試しに一度、以下の実行例を見てみましょう (githubでは34.pyです)
```py
a = int(input(">> "))
if a%2 == 0:
   print("偶数です")

print("処理終わり")
```
> 偶数です  
> 処理終わり

入力する数字を奇数に変えると、以下のような結果になります。
> 処理終わり

つまり、ifの中身(インデントでずらしているところ)は実行されません！  

さて、種明かしをします。
`if`のあとにスペースをいれ、そのあとに「YESかNOか」で表せる内容を入力します。(前回の比較演算子(<, <=, >, >=, ==, !=)です！)
最後に`:`をいれて改行します。
そしてif文は YES の時だけその中身を実行します。  

今回は、`a%2 == 0`なので、「aを2で割ったあまり が0と等しいか」という意味になります。  
自然数では2で割り切れると偶数、そうでないと奇数なので、偶数の時だけ「偶数です」のprintが実行されます。

---
## 注意
C言語、Java、C#では以下のようなプログラムになります。(includeなどは省略)  

C
```c
int a;
printf("%d", &a)
if(a%2 == 0){
   printf("偶数です\n");
}
printf("処理終わり");
```
  
Java
```java
int a = (int)(scanner.nextLine());
if(a%2 == 0){
   System.out.println("偶数です");
}
printf("処理終わり");
```

C#
```cs
int a = (int)(Console.ReadLine());
if(a%2 == 0){
   Console.WriteLine("偶数です");
}
Console.WriteLine("処理終わり");
```

比較対象のPython
```py
a = int(input(">> "))
if a%2 == 0:
   print("偶数です")

print("処理終わり")
```

何が言いたいかというと、全部`if(条件){ 文 }`という構造になってるっていうことです  
「ってことは、{ }に囲まれてさえいればいいんやな！」とかいってインデント(文の冒頭をそろえて右に少しずらすこと)をおろそかにする輩がいます。ダメ。ゼッタイ。  
**プログラム書くからにはインデントをしっかりする！**  

Pythonでは、インデントしているかどうかによってif文の中か、外かを見分けます。  
インデントをおろそかにすると、そもそもプログラムが動いてくれなかったり、意図しない動作になります。
  
余談ですが、ほかの言語では文の最後に `;` をつけています。しかしPythonでは改行がこの意味を果たします。

# 4. elifとelseが使えるようになる
## 4.1 elseの使い方
else は日本語で「それ以外」という意味です。  
プログラミングもそのままで、if文(と後述のelif)の処理されなかった場合に処理されます。  
試しに例文を見てみてください(Githubでは35.pyです)
```py
a = int(input(">> "))
if a%2 == 0:
   print("偶数です")
else:
   print("偶数ではありません")

print("処理終わり")
```
ifの例文に少し付け足しただけです。  
aが偶数ならば
> 偶数です  
> 処理終わり

と出力されます。しかし、奇数にしてみると
> 偶数ではありません  
> 処理終わり

と出力されます。  
上のif文で実行されなかった場合の受け皿の役割をしているのがelse文です。

では試しに次のようなプログラムを作ってみましょう
> 問題3.1  
> 上のプログラムをまねして、3で割り切れるかどうか のプログラムを作りましょう  
> 割り切れる場合は「3で割り切れます」、そうでない場合は「3では割り切れません」と出力します  
> ただし最後の `print("処理終わり")` は入れません

<details><summary>解答例は左の三角マークを押すと出てきます。(Githubでは36.pyです)
</summary>
<pre><code>a = int(input(">> "))
if a%3 ==0:
   print("3で割り切れます")
else:
   print("3で割り切れません")
</code></pre>
</details>

ちなみに、うちの大学でのC演習の授業もこんな感じで問題解かさせられます。ｶﾞﾝﾊﾞｯﾃ  

---
## 4.2 elifの使い方
elifは「else if」で、日本語で言うと「さもなくば、そうでなければ」という意味です  
プログラミングもそのままで、「if文で条件を追加したいとき」に使います。
例えば、3で割ったあまりが0, 1, 2で場合分けしたい場合などは以下のようにします。(Githubでは37.py)
```py
a = int(input(">> "))
if a%3 == 0:
   print("3で割ったあまりは0です")
elif a%3 ==1 :
   print("3で割ったあまりは1です")
else:
   print("3で割ったあまりは2です")
```

ちなみに、if文の中にif文を入れてしまって書くこともできるっちゃできます  
(※if, elif, elseまとめてif文と呼んだりします)
```py
a = int(input(">> "))
if a%3 == 0:
   print("3で割ったあまりは0です")
else:
   if a%3 == 1:
      print("3で割ったあまりは1です")
   else:
      print("3で割ったあまりは2です")
```
でも、前者のほうが簡単に見えるでしょ? ^^;

# 5. 入れ子のif文が使えるようになる
上でやった else の中に if-else をぶち込んじゃうやつです。以上。
もちろん、if のところや elifのところにぶち込んでもokです.
> 例題5.1  
> 入力した数字が3と7の両方で割り切れる場合は「3と7の両方で割り切れる」と出力、  
> 3のみで割り切れる場合は「3のみで割り切れる」と出力、  
> 7のみで割り切れる場合は「7のみで割り切れる」と出力、  
> どっちも割り切れないときは「3でも7でも割り切れない」と出力するプログラムを作りましょう

いきなりですが解答例(解いてから見てね！)、(Githubでは38.pyです)
```py
a = int(input(">> "))
if a%3 == 0:
   if a%7 == 0:
      print("3と7の両方で割り切れる")
   else:
      print("3のみで割り切れる")
else:
   if a%7 == 0:
      print("7のみで割り切れる")
   else:
      print("3でも7でも割り切れない")
```

ここで、「21で割ればいいんじゃね」と思ったあなた。この大学ではできる人間です。(自大学卑下しすぎ?w)  
そんな強い人のための解答例です(Githubでは39.pyです)  
とはいえ知ってしまえば内容はそんなむずかしくありません。

```py
a = int(input(">> "))
if a%21 == 0:
   print("3と7の両方で割り切れる")
elif a%3 == 0:
   print("3のみで割り切れる")
elif a%7 == 0:
   print("7のみで割り切れる")
else:
   print("3でも7でも割り切れない")
```
どっちを使おうが、同じように動くのでどちらも正解です。  

# 6. 論理演算子を使えるようになる
さて、先ほど「3で割れる」と「7で割れる」を同時に満たすために、
```py
a = int(input(">> "))
if a%3 == 0:
   if a%7 == 0:
      print("3でも7でも割り切れる")
```
というようにif文の入れ子を作りました。
このように同時に満たすというのを表したいときPythonでは「and」を使って同時に表現できます.  
つまり書き換えると次のようになります
```py
a = int(input(">> "))
if (a%3 == 0) and (a%7 == 0):
   print("3でも7でも割り切れる")
```
では、「3か7の少なくとも一方で割り切れる場合」はどうしましょう。  
勘のいいひとは「or」だと気づきますね。
```py
a = int(input(">> "))
if (a%3 == 0) or (a%7 == 0):
   print("3か7の少なくとも一方で割り切れる")
```
最後に、「3では割り切れない」と言いたいときはどうしましょう
今まで習った通りだと以下の通りになります
```py
a = int(input(">> "))
if a%3 != 0:
   print("3では割り切れない")
```
しかし、論理演算子には"否定"することができ、「not」を使います。  
「not」を使った分は以下の通りです
```py
a = int(input(">> "))
if not (a%3 == 0):
   print("3では割り切れない")
```
これらの「and」、「or」、「not」のことを論理演算子といいます  
| 論理演算子 | 意味 | C言語での表現 |  
|:---:|:---:|:---:|  
| and | かつ | && |  
| or | または | \|\| |  
| not | 否定 | ! |  

# [おまけ] Switchが使えるようになる
Pythonにswitch文はありません。  
Pythonにswitch文はありません。  
大事なことなので2回言いました。なのでおまけ。  
C言語で書きます。
ちなみにSwitchも場合分け。 百聞は一見に如かず、例えば以下の文
```c
int a;
scanf("%d", &a);
if(a%5 == 0){
   printf("5で割ったあまりは0です\n");
}else if(a%5 == 1){
   printf("5で割ったあまりは1です\n");
}else if(a%5 == 2){
   printf("5で割ったあまりは2です\n");
}else if(a%5 == 3){
   printf("5で割ったあまりは3です\n");
}else{
   printf("5で割ったあまりは4です\n");
}
```
これをswitch文で書くと
```c
int a, r;
scanf("%d", &a);
r = a%5;
switch(r){
   case 0:
      printf("5で割ったあまりは0です\n");
      break;
   case 1:
      printf("5で割ったあまりは1です\n");
      break;
   case 2:
      printf("5で割ったあまりは2です\n");
      break;
   case 3:
      printf("5で割ったあまりは3です\n");
      break;
   default:
      printf("5で割ったあまりは4です\n");
}
```
ifやelse ifの条件部分を`case モノ`で記述し、elseの部分を`default`で記述します.  
if文は上から順に「この条件違う、次は..ちがう、その次は...」と順番に試すのに対して  
switch文は該当する場所に飛ぶので処理が高速です。  
.....というのは何十年か前のお話で今はどっち使っても大して速度変わりません(PC速くなったから)  
`break;`を忘れないようにしましょう。

今日は以上。閉廷！